# ===============================================
# AI Sales Platform - Production Environment
# ملف متغيرات البيئة الإنتاجي الكامل
# ===============================================

# ===============================================
# APPLICATION SETTINGS
# ===============================================
NODE_ENV=production
PORT=10000
BASE_URL=https://ai-instgram.onrender.com

# ===============================================
# DATABASE CONFIGURATION (PostgreSQL)
# ===============================================
DATABASE_URL=postgresql://ai_instgram_user:rTAH6gFMveMhoSrFu3l9FmrqGYd1ZFdw@dpg-d2f0pije5dus73bi4ac0-a.frankfurt-postgres.render.com/ai_instgram?sslmode=require
DB_PASSWORD=rTAH6gFMveMhoSrFu3l9FmrqGYd1ZFdw
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30
DB_CONNECT_TIMEOUT=10

# ===============================================
# INSTAGRAM/META CONFIGURATION (مطلوب)
# ===============================================
IG_APP_ID=your_instagram_app_id_here
IG_APP_SECRET=your_instagram_app_secret_here
META_APP_SECRET=your_meta_app_secret_here
IG_VERIFY_TOKEN=your_webhook_verify_token_here_min_20_chars
REDIRECT_URI=${BASE_URL}/auth/instagram/callback

# ===============================================
# OPENAI CONFIGURATION (مطلوب)
# ===============================================
OPENAI_API_KEY=sk-your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=600
OPENAI_TEMPERATURE=0.7

# ===============================================
# SECURITY CONFIGURATION (مطلوب)
# ===============================================
# يجب أن يكون 64 حرف hex (32 bytes)
ENCRYPTION_KEY_HEX=your_64_character_hex_encryption_key_here_32_bytes_required_for_production_security

# يجب أن يكون 32 حرف على الأقل
JWT_SECRET=your_jwt_secret_here_minimum_32_characters_for_production_security

# مفتاح الإدارة (غير هذا في الإنتاج)
ADMIN_API_KEY=your-secure-admin-key-change-this-in-production-2025

# ===============================================
# CORS CONFIGURATION (مطلوب)
# ===============================================
# قائمة النطاقات المسموحة مفصولة بفاصلة
CORS_ORIGINS=${BASE_URL},https://graph.facebook.com,https://api.whatsapp.com,https://yourdomain.com

# ===============================================
# REDIS CONFIGURATION (اختياري)
# ===============================================
REDIS_URL=redis://localhost:6379
REDIS_MAX_RETRIES=3
REDIS_COMMAND_TIMEOUT=5000
DISABLE_REDIS=false
SKIP_REDIS_HEALTH_CHECK=false

# ===============================================
# RATE LIMITING
# ===============================================
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# ===============================================
# INSTAGRAM GRAPH API VERSION
# ===============================================
API_VERSION=v21.0

# ===============================================
# MONITORING AND LOGGING
# ===============================================
METRICS_ENABLED=true
LOG_LEVEL=info
SENTRY_DSN=your_sentry_dsn_here_optional

# ===============================================
# QUEUE CONFIGURATION
# ===============================================
STARTUP_SKIP_QUEUE_AUTO=false
QUEUE_CONCURRENCY=5
QUEUE_MAX_ATTEMPTS=3

# ===============================================
# AI CONFIGURATION DEFAULTS
# ===============================================
DEFAULT_AI_MODEL=gpt-4o-mini
DEFAULT_AI_TEMPERATURE=0.7
DEFAULT_AI_MAX_TOKENS=600
DEFAULT_AI_TONE=friendly

# ===============================================
# BUSINESS DEFAULTS
# ===============================================
DEFAULT_CURRENCY=IQD
DEFAULT_TIMEZONE=Asia/Baghdad
DEFAULT_LANGUAGE=ar

# ===============================================
# DELIVERY CONFIGURATION
# ===============================================
DEFAULT_DELIVERY_INSIDE_BAGHDAD=3
DEFAULT_DELIVERY_OUTSIDE_BAGHDAD=5

# ===============================================
# WEBHOOK CONFIGURATION
# ===============================================
WEBHOOK_TIMEOUT=30000
WEBHOOK_MAX_RETRIES=3
WEBHOOK_RETRY_DELAY=1000

# ===============================================
# CACHE CONFIGURATION
# ===============================================
CACHE_TTL_SECONDS=60
CACHE_MAX_SIZE=1000

# ===============================================
# HEALTH CHECK CONFIGURATION
# ===============================================
HEALTH_CHECK_INTERVAL=2000
HEALTH_CHECK_TIMEOUT=5000

# ===============================================
# PRODUCTION OPTIMIZATIONS
# ===============================================
# تخطي بعض الفحوصات في الإنتاج لتحسين الأداء
SKIP_ARCHITECTURE_VALIDATION=false
SKIP_ENV_VALIDATION=false

# ===============================================
# FEATURE FLAGS
# ===============================================
ENABLE_INSTAGRAM_INTEGRATION=true
ENABLE_AI_RESPONSES=true
ENABLE_QUEUE_PROCESSING=true
ENABLE_MONITORING=true
ENABLE_ANALYTICS=true

# ===============================================
# INSTAGRAM SPECIFIC SETTINGS
# ===============================================
IG_MESSAGE_WINDOW_HOURS=24
IG_MAX_MESSAGES_PER_WINDOW=100
IG_RATE_LIMIT_PER_MINUTE=60

# ===============================================
# AI RESPONSE SETTINGS
# ===============================================
AI_RESPONSE_TIMEOUT=30000
AI_MAX_CONTEXT_MESSAGES=10
AI_ENABLE_PRODUCT_HINTS=true
AI_ENABLE_AUTO_RESPONSES=true

# ===============================================
# DATABASE MAINTENANCE
# ===============================================
DB_CLEANUP_INTERVAL_HOURS=24
DB_CLEANUP_OLD_LOGS_DAYS=30
DB_CLEANUP_OLD_SESSIONS_DAYS=7

# ===============================================
# SECURITY HEADERS
# ===============================================
SECURITY_HEADERS_ENABLED=true
CSP_ENABLED=true
HSTS_ENABLED=true

# ===============================================
# BACKUP AND RECOVERY
# ===============================================
BACKUP_ENABLED=false
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30

# ===============================================
# NOTIFICATION SETTINGS
# ===============================================
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_SLACK_NOTIFICATIONS=false
ENABLE_WEBHOOK_NOTIFICATIONS=true

# ===============================================
# DEVELOPMENT/DEBUG SETTINGS (للإنتاج = false)
# ===============================================
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_REQUEST_LOGGING=false
ENABLE_SQL_LOGGING=false

# ===============================================
# PERFORMANCE SETTINGS
# ===============================================
MAX_REQUEST_SIZE=10mb
REQUEST_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=5000

# ===============================================
# INSTAGRAM BUSINESS SETTINGS
# ===============================================
IG_BUSINESS_DISCOVERY_ENABLED=true
IG_MEDIA_PROCESSING_ENABLED=true
IG_STORY_MENTIONS_ENABLED=true
IG_COMMENT_REPLIES_ENABLED=true

# ===============================================
# ANALYTICS SETTINGS
# ===============================================
ANALYTICS_RETENTION_DAYS=90
ANALYTICS_BATCH_SIZE=100
ANALYTICS_PROCESSING_INTERVAL=3600

# ===============================================
# MERCHANT SETTINGS
# ===============================================
MAX_MERCHANTS_PER_INSTANCE=1000
MAX_PRODUCTS_PER_MERCHANT=10000
MAX_CONVERSATIONS_PER_MERCHANT=10000

# ===============================================
# COMPLIANCE SETTINGS
# ===============================================
GDPR_COMPLIANCE_ENABLED=true
DATA_RETENTION_DAYS=365
AUDIT_LOG_RETENTION_DAYS=730

# ===============================================
# NOTES FOR PRODUCTION DEPLOYMENT
# ===============================================
# 1. تأكد من تغيير جميع المفاتيح والأسرار
# 2. استخدم قيم قوية للـ ENCRYPTION_KEY_HEX و JWT_SECRET
# 3. اضبط CORS_ORIGINS للنطاقات المسموحة فقط
# 4. فعل HTTPS في الإنتاج
# 5. راجع جميع الإعدادات قبل النشر
# 6. استخدم متغيرات البيئة الآمنة في منصة النشر
# 7. لا تضع هذا الملف في version control مع القيم الحقيقية

# ===============================================
# PRODUCTION CHECKLIST
# ===============================================
# □ تم تغيير ADMIN_API_KEY
# □ تم تغيير JWT_SECRET (32+ chars)
# □ تم تغيير ENCRYPTION_KEY_HEX (64 hex chars)
# □ تم ضبط CORS_ORIGINS للنطاقات المسموحة
# □ تم تكوين Instagram/Meta credentials
# □ تم تكوين OpenAI API key
# □ تم تكوين قاعدة البيانات
# □ تم اختبار جميع الـ endpoints
# □ تم تفعيل HTTPS
# □ تم ضبط monitoring والـ alerts