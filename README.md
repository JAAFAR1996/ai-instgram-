# ๐ ููุตุฉ ุงููุจูุนุงุช ุงูุฐููุฉ - AI Sales Platform

> **ูุธุงู ุงุญุชุฑุงูู ูุชูุฏู ูุฃุชูุชุฉ ุงููุจูุนุงุช ุนุจุฑ Instagram ุจุงุณุชุฎุฏุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู**

## ๐ฏ ููุตุฉ ุงุญุชุฑุงููุฉ ููุชุฌุงุฑ ุงูุนุฑุงูููู - ุฌุงูุฒุฉ ููุฅูุชุงุฌ 100%

[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)](https://typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-43853D?style=for-the-badge&logo=node.js&logoColor=white)](https://nodejs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)](https://postgresql.org/)
[![OpenAI](https://img.shields.io/badge/OpenAI-412991?style=for-the-badge&logo=openai&logoColor=white)](https://openai.com/)
[![Hono](https://img.shields.io/badge/Hono-E36002?style=for-the-badge&logo=hono&logoColor=white)](https://hono.dev/)
[![Instagram](https://img.shields.io/badge/Instagram-E4405F?style=for-the-badge&logo=instagram&logoColor=white)](https://developers.facebook.com/)
[![WhatsApp](https://img.shields.io/badge/WhatsApp-25D366?style=for-the-badge&logo=whatsapp&logoColor=white)](https://business.whatsapp.com/)

![GitHub Stars](https://img.shields.io/github/stars/JAAFAR1996/ai-instgram-?style=social)
![GitHub Forks](https://img.shields.io/github/forks/JAAFAR1996/ai-instgram-?style=social)
![GitHub Issues](https://img.shields.io/github/issues/JAAFAR1996/ai-instgram-)

## ๐ ุฅุญุตุงุฆูุงุช ุงููุดุฑูุน

<div align="center">

### ๐ฏ **59 ููู TypeScript** | ๐๏ธ **16 ูุฌูุฏ ููุธู** | ๐๏ธ **16 Migration** | โก **~8,000 ุณุทุฑ ููุฏ**

</div>

```bash
๐ ุฅุญุตุงุฆูุงุช ุดุงููุฉ ูููุดุฑูุน:
โโโ 59 ููู TypeScript ููุญุณููู ููููููู
โโโ 16 ูุฌูุฏ ูุฑุนู ููุธู ุจู Clean Architecture  
โโโ 16 migration ููุงุนุฏุฉ ุงูุจูุงูุงุช PostgreSQL
โโโ 6 ูุนุงูุฌุงุช Queue ููููุงู ุงููุฎุชููุฉ
โโโ 3 ูุณุชูุฏุนุงุช ุจูุงูุงุช ูููุตูุฉ ููุญุณูุฉ
โโโ 5 ุฃูุธูุฉ ุฃูุงู ูุชูุฏูุฉ (2025 standards)
โโโ ~8,000 ุณุทุฑ ููุฏ ุนุงูู ุงูุฌูุฏุฉ
```

### ๐ **ุงูุฅูุฌุงุฒุงุช ุงูุฑุฆูุณูุฉ:**

| ุงููููู | ุงูุญุงูุฉ | ุงูุฌูุฏุฉ | ุงููุตู |
|---------|--------|---------|--------|
| ๐ **Core Architecture** | โ ููุชูู | ๐ข ููุชุงุฒ | Clean Architecture + Repository Pattern |
| ๐ฑ **Instagram Integration** | โ ููุชูู | ๐ข ููุชุงุฒ | DMs + Stories + Comments + AI Responses |
| ๐ค **AI System** | โ ููุชูู | ๐ข ููุชุงุฒ | GPT-4o-mini + Iraqi Arabic + Context-Aware |
| ๐ **Security System** | โ ููุชูู | ๐ข ููุชุงุฒ | HMAC-SHA256 + AES-GCM + Rate Limiting |
| โก **Queue System** | โ ููุชูู | ๐ข ููุชุงุฒ | Bull + Redis + Async Processing |
| ๐๏ธ **Database** | โ ููุชูู | ๐ข ููุชุงุฒ | PostgreSQL + RLS + Multi-tenant |
| ๐ **Monitoring** | โ ููุชูู | ๐ก ุฌูุฏ | Health Checks + Queue Stats |
| ๐งช **Testing** | ๐ ุฌุฒุฆู | ๐ก ููุฏ ุงูุชุทููุฑ | Basic Integration Tests |

---

## ๐ ุญุงูุฉ ุงููุดุฑูุน: **99% ุฌุงูุฒ ููุฅูุชุงุฌ**

> ### โจ **ููุตุฉ ุงุญุชุฑุงููุฉ ูุทุงุจูุฉ ููุนุงููุฑ Meta Graph API v23.0 ููุนุงู 2025**

### ๐ **ููุชูู ููุฌูุฒ ููุฅูุชุงุฌ:**
- **โ ุจููุฉ Enterprise Backend** - Clean Architecture + Repository Pattern
- **โ ุชูุงูู Instagram Business API** - ูุงูู ูุน webhooks ูAI responses  
- **โ ูุธุงู ุฃูุงู ูุชูุฏู** - SQL injection protection, AES-256-GCM encryption
- **โ ูุนุงูุฌุฉ ุบูุฑ ูุชุฒุงููุฉ** - Bull Queue system ูุน Redis
- **โ ุงูุชุญูู ูู ุงูุจูุฆุฉ** - ูุญุต ุดุงูู ููุชูููู ูุจู ุงูุชุดุบูู
- **โ ูุฑุงูุจุฉ ุดุงููุฉ** - Health checks + Queue monitoring
- **โ ูุงุนุฏุฉ ุจูุงูุงุช ุงูุฅูุชุงุฌ** - Multi-tenant ูุน Row-Level Security
- **โ ุฏุนู ุงูุนุฑุจูุฉ ุงูุนุฑุงููุฉ** - AI ูุฎุตุต ููุณูู ุงูุนุฑุงูู

### ๐ฏ **ุงููููุฒุงุช ุงูุฅุถุงููุฉ:**
- **๐จ ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช RESTful** - ููุงุท API ุดุงููุฉ ูููุธูุฉ
- **๐ HMAC-SHA256 Webhook Verification** - ุงูุชุญูู ุงูุขูู ูู webhooks
- **๐ ุฅุญุตุงุฆูุงุช ูุชูุฏูุฉ** - ุชุชุจุน ุงูุฃุฏุงุก ูุงูุงุณุชุฎุฏุงู
- **๐ ุฏุนู ูุชุนุฏุฏ ุงูููุตุงุช** - Instagramุ WhatsAppุ Facebook
- **๐ฑ ูุนุงูุฌุฉ ุงููุณุงุฆุท** - ุตูุฑุ ููุฏูููุงุชุ ููุตูุงุช
- **โก ุฃุฏุงุก ูุญุณู** - ุงุณุชุฌุงุจุฉ ุณุฑูุนุฉ ุญุชู ุชุญุช ุงูุญูููุฉ ุงูุนุงููุฉ

### ๐ **ุงูุชุทููุฑ ุงููุณุชูุฑ:**
- **๐ ููุญุฉ ุชุญูู ูุชูุฏูุฉ** - dashboard ููุชุฌุงุฑ (ููุฏ ุงูุชุทููุฑ)
- **๐งช ุงุฎุชุจุงุฑุงุช ุดุงููุฉ** - ุชุบุทูุฉ 90%+ ููููุฏ ุงูุญููู
- **๐ ุชุญูููุงุช ุงูุฃุนูุงู** - ุฅุญุตุงุฆูุงุช ููุตูุฉ ูููุจูุนุงุช

### โ๏ธ **ููุงุญุธุงุช ูููุฉ:**
- **๐ฏ ุงูุชุฑููุฒ ุงูุญุงูู**: Instagram ููุท ููุญุตูู ุนูู ุฃูุถู ุฌูุฏุฉ
- **๐ ุงูุฃูุงู**: ูุทุงุจู ูุฃุนูู ูุนุงููุฑ 2025
- **๐ ุงูุณูู ุงููุณุชูุฏู**: ุงูุชุฌุงุฑ ุงูุนุฑุงูููู ูุงูุนุฑุจ
- **๐ ูุนุฑูู ุงูุชุงุฌุฑ ูุทููุจ**: ูุฌุจ ุชุนููู `MERCHANT_ID` ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุฃู ุชูุฑูุฑู ูู ุฑุฃุณ ุงูุทูุจ `X-Merchant-ID`. ูุง ุชูุฌุฏ ูููุฉ ุงูุชุฑุงุถูุฉ ูุณูุชู ุฑูุถ ุงูุทูุจุงุช ุจุฏููู.

---

## ๐ ุงููููุฒุงุช ุงููุชูุฏูุฉ

### ๐ค ุฐูุงุก ุงุตุทูุงุนู ูุชุทูุฑ
- **OpenAI GPT-4o-mini Integration**: ูุญุงุฏุซุงุช ุฐููุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ ุงูุนุฑุงููุฉ
- **Context-Aware Responses**: ููู ุณูุงู ุงููุญุงุฏุซุฉ ูุงูุชุงุฑูุฎ ุงูุณุงุจู
- **Iraqi Dialect Support**: ุชุฎุตุต ูู ุงูููุฌุฉ ุงูุนุฑุงููุฉ ููุชุฌุงุฑุฉ
- **Async AI Processing**: ูุนุงูุฌุฉ ุบูุฑ ูุชุฒุงููุฉ ูุถูุงู ุงูุงุณุชุฌุงุจุฉ ุงูุณุฑูุนุฉ

### ๐ฑ ุชูุงูู Instagram ุงุญุชุฑุงูู (ููุชูู 100%)
- **Instagram Stories**: ุฑุฏูุฏ ุฐููุฉ ุนูู mentions ูุงูุชูุงุนูุงุช
- **Comments Management**: ุฅุฏุงุฑุฉ ูุชูุฏูุฉ ููุชุนูููุงุช ูุน AI responses
- **Direct Messages**: ูุญุงุฏุซุงุช ุฐููุฉ ูู ุงูุฑุณุงุฆู ุงูุฎุงุตุฉ
- **Media Processing**: ูุนุงูุฌุฉ ุงูุตูุฑ ูุงูููุฏูููุงุช ุจู AI
- **Webhook Reliability**: ูุธุงู retry ูุชูุฏู ูุน exponential backoff

### ๐ก๏ธ ุฃูุงู ูุชูุฏู ุนูู ูุณุชูู ุงููุคุณุณุงุช
- **SQL Injection Protection**: ุญูุงูุฉ ุดุงููุฉ ูู ูุฌูุงุช ููุงุนุฏ ุงูุจูุงูุงุช
- **AES-GCM Encryption**: ุชุดููุฑ ููู ููุจูุงูุงุช ุงูุญุณุงุณุฉ
- **Rate Limiting**: ุญูุงูุฉ ุฐููุฉ ูู ุฅุณุงุกุฉ ุงูุงุณุชุฎุฏุงู
- **Row-Level Security**: ุนุฒู ูุงูู ูุจูุงูุงุช ูู ุชุงุฌุฑ
- **HMAC Signature Verification**: ุงูุชุญูู ูู ุตุญุฉ webhooks
- **Environment Validation**: ุชุญูู ุดุงูู ูู ุงูุฃูุงู ูุจู ุงูุชุดุบูู

### โก ูุนุงูุฌุฉ ุบูุฑ ูุชุฒุงููุฉ ูุชูุฏูุฉ
- **Message Queue System**: ูุนุงูุฌุฉ ุงูุฑุณุงุฆู ุจุดูู ุบูุฑ ูุชุฒุงูู
- **Background Job Processing**: ููุงู ุฎูููุฉ ููุตูุงูุฉ ูุงูุชุญููู
- **Dead Letter Queue**: ูุนุงูุฌุฉ ุงูุฑุณุงุฆู ุงููุงุดูุฉ
- **Priority-Based Processing**: ูุนุงูุฌุฉ ุญุณุจ ุงูุฃููููุฉ

---

## ๐๏ธ ุงููุนูุงุฑูุฉ ุงูุชูููุฉ ุงููุชูุฏูุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Production Hono Server                      โ
โ               (TypeScript + Environment Validation)            โ
โ                    Port: 3001 | SSL Ready                      โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                  โ
โโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   Security Middleware                          โ
โ    โข CORS Protection โข Rate Limiting โข Security Headers        โ
โ    โข Webhook Signature Verification โข Request Validation       โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                  โ
โโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Async Queue System                          โ
โ    โข Webhook Processing Jobs โข AI Response Generation          โ
โ    โข Background Maintenance โข Priority-Based Processing        โ
โ    โข Dead Letter Queue โข Exponential Backoff Retry           โ
โโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
          โ                           โ
โโโโโโโโโโโดโโโโโโโโโโ      โโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Instagram API    โ      โ        Repository Layer              โ
โ  Business Service โ      โ  โข Conversation Repository โ        โ
โ  โข Webhooks โ    โ      โ  โข Message Repository โ             โ
โ  โข DMs โ         โ      โ  โข Merchant Repository โ            โ
โ  โข Stories โ     โ      โ  โข Clean Architecture Pattern        โ
โ  โข Comments โ    โ      โ  โข Type-Safe Database Operations     โ
โโโโโโโโโโโฌโโโโโโโโโโ      โโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
          โ                          โ
โโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                PostgreSQL Database (Production)                 โ
โ  โข Multi-Tenant with Row-Level Security                        โ
โ  โข 14 Migrations โข Queue Jobs Table โข Audit Logs              โ
โ  โข Connection Pooling โข SQL Injection Protection               โ
โ  โข Optimized Indexes โข Automated Cleanup Functions            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ๐ง ููููุงุช ุงููุธุงู ุงูุฃุณุงุณูุฉ:
- **45+ TypeScript Files** ูุน Clean Architecture
- **~8,000 ุฎุทูุท ููุฏ** ูุญุณูุฉ ููุฎุชุจุฑุฉ
- **6 ูุนุงูุฌุงุช Queue** ููููุงู ุงููุฎุชููุฉ
- **3 ูุณุชูุฏุนุงุช ุจูุงูุงุช** ูููุตูุฉ ููุญุณูุฉ
- **14 migrations** ููุงุนุฏุฉ ุงูุจูุงูุงุช
- **5 ุฃูุธูุฉ ุฃูุงู** ูุชูุฏูุฉ

---

## ๐ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

```bash
# Node.js 20+ and Bun runtime
curl -fsSL https://bun.sh/install | bash

# PostgreSQL 15+
sudo apt-get install postgresql-15 postgresql-15-contrib
```

### ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

```sql
-- ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
CREATE DATABASE ai_sales_platform;

-- ุชูุนูู ุงูุฅุถุงูุงุช ุงููุทููุจุฉ
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS "pg_trgm";
-- CREATE EXTENSION IF NOT EXISTS "pgvector"; -- ููุฏ ุงูุชุทููุฑ
```

### ุชุซุจูุช ุงููุดุฑูุน

```bash
# ุงุณุชูุณุงุฎ ุงููุดุฑูุน
git clone [repository-url]
cd ai-sales-platform

# ุชุซุจูุช ุงูุชุจุนูุงุช
bun install

# ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
cp .env.example .env

# โ๏ธ ุชุฃูุฏ ูู ุถุจุท ุจูุงูุงุช ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจู ุชุดุบูู ุฃู ุณูุฑุจุช
# ุฎุงุตุฉ ูุชุบูุฑ DB_PASSWORD ุงูุฐู ููุซู ูููุฉ ูุฑูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช

# ุชุดุบูู ุงูู migrations
bun run db:migrate

# ุชุดุบูู ุงููุดุฑูุน ููุชุทููุฑ
bun run dev
```

### ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุชูุฏูุฉ

```env
# ===============================================
# AI Sales Platform - Environment Configuration
# ูุณุฎ ูุฐุง ุงูููู ุฅูู .env ูุชูููู ุงูููู
# ===============================================

# Application Environment
NODE_ENV=production
PORT=3001
BASE_URL=https://ai-instgram.onrender.com

# Database Configuration (PostgreSQL)
DATABASE_URL=postgresql://username:password@localhost:5432/ai_sales_platform
DB_PASSWORD=your_db_password_here
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30
DB_CONNECT_TIMEOUT=10

# Instagram/Meta Configuration (ูุทููุจ)
IG_APP_ID=your_instagram_app_id_here
IG_APP_SECRET=your_instagram_app_secret_here
META_APP_SECRET=your_meta_app_secret_here
IG_VERIFY_TOKEN=your_webhook_verify_token_here
REDIRECT_URI=${BASE_URL}/auth/instagram/callback

# OpenAI Configuration (ูุทููุจ)
OPENAI_API_KEY=sk-your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=500
OPENAI_TEMPERATURE=0.7

# Security Configuration (ูุทููุจ)
# ููุงุญุธุฉ: ูุฌุจ ุฅุนุฏุงุฏ JWT_SECRET ุจุดูู ูุณุชูู ููุง ูููู ุงุณุชุฎุฏุงู ENCRYPTION_KEY ููููุฉ ุงุญุชูุงุทูุฉ
ENCRYPTION_KEY=your_32_character_ascii_or_64_hex_key_here123456
JWT_SECRET=your_jwt_secret_here

# CORS Configuration (ูุทููุจ - ูุงุฆูุฉ ูุทุงูุงุช ูุณููุญุฉ ููุตููุฉ ุจูุงุตูุฉ)
# ูุซุงู: https://myshop.com,https://admin.myshop.com
# ูุฌุจ ุถุจุท ูุฐุง ุงููุชุบูุฑ ูุฅูุง ุณูุชููู ุงูุฎุงุฏู ุนู ุงูุนูู
CORS_ORIGINS=${BASE_URL},https://graph.facebook.com,https://api.whatsapp.com

# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# Instagram Graph API Version
API_VERSION=v21.0

### โ ุงูุชุญูู ูู ุงูุชูููู

```bash
# ุงุฎุชุจุงุฑ ุงูุชูููู ูุจู ุงูุชุดุบูู
curl http://localhost:3001/api/config/validate

# ูุญุต ุตุญุฉ ุงููุธุงู
curl http://localhost:3001/health

# ูุฑุงูุจุฉ ุงูู Queue
curl http://localhost:3001/api/queue/stats
```

---

## ๐ง ุงูุงุณุชุฎุฏุงู ุงููุชูุฏู

### ๐ ูุฑุงูุจุฉ ุงููุธุงู

```bash
# ุญุงูุฉ ุงููุธุงู ุงูุนุงูุฉ
curl http://localhost:3001/health

# ุฅุญุตุงุฆูุงุช ููุตูุฉ ููู Queue
curl http://localhost:3001/api/queue/stats

# ุตุญุฉ ุงูู Queue
curl http://localhost:3001/api/queue/health

# ุญุงูุฉ ุงูุชูููู
curl http://localhost:3001/api/config/validate

# ูุนูููุงุช ุงููุธุงู
curl http://localhost:3001/api/status
```

### ๐ ุฅุฏุงุฑุฉ ุงูู Queue

```bash
# ุฅุนุงุฏุฉ ูุญุงููุฉ ุงูููุงู ุงููุงุดูุฉ
curl -X POST http://localhost:3001/api/queue/retry-failed \
  -H "Content-Type: application/json" \
  -d '{"jobType": "AI_RESPONSE_GENERATION"}'

# ุชูุธูู ุงูููุงู ุงููุฏููุฉ
curl -X POST http://localhost:3001/api/queue/cleanup \
  -H "Content-Type: application/json" \
  -d '{"olderThanDays": 7}'
```

### ๐ฑ Instagram Integration ุงููุชูุฏู

```typescript
import { getQueueManager } from './queue/queue-manager';
import { getRepositories } from './repositories';

const queueManager = getQueueManager();
const repos = getRepositories();

// ุฅุถุงูุฉ ูููุฉ ูุนุงูุฌุฉ webhook ุจุดูู ุบูุฑ ูุชุฒุงูู
const jobId = await queueManager.addWebhookJob(
  'INSTAGRAM',
  merchantId,
  webhookData,
  'HIGH' // ุฃููููุฉ ุนุงููุฉ
);

// ุฅุถุงูุฉ ูููุฉ ุชูููุฏ ุงุณุชุฌุงุจุฉ AI
const aiJobId = await queueManager.addAIJob(
  conversationId,
  merchantId,
  customerId,
  "ุดูููููุ ุนูุฏูู ุนุฑูุถ ุฌุฏูุฏุฉุ",
  'INSTAGRAM',
  'dm'
);
```

### ๐๏ธ ุงุณุชุฎุฏุงู Repository Pattern

```typescript
import { getRepositories } from './repositories';

const { conversation, message, merchant } = getRepositories();

// ุฅูุดุงุก ูุญุงุฏุซุฉ ุฌุฏูุฏุฉ
const newConversation = await conversation.create({
  merchantId: 'merchant-uuid',
  customerInstagram: 'customer_ig_id',
  platform: 'INSTAGRAM',
  conversationStage: 'GREETING'
});

// ุฅุถุงูุฉ ุฑุณุงูุฉ
const message = await message.create({
  conversationId: newConversation.id,
  direction: 'INCOMING',
  platform: 'INSTAGRAM',
  messageType: 'TEXT',
  content: 'ูุฑุญุจุงุ ุนูุฏูู ุนุฑูุถุ'
});

// ุงูุญุตูู ุนูู ุฅุญุตุงุฆูุงุช ุงูุชุงุฌุฑ
const stats = await merchant.getStats();
```

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ)

### ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ

```sql
-- ุงูุชุฌุงุฑ
CREATE TABLE merchants (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    business_name VARCHAR(255) NOT NULL,
    whatsapp_number VARCHAR(20),
    instagram_username VARCHAR(100),
    subscription_status VARCHAR(20) DEFAULT 'ACTIVE',
    ai_config JSONB DEFAULT '{}',
    created_at TIMESTAMPTZ DEFAULT NOW()
);

-- ุงููุญุงุฏุซุงุช
CREATE TABLE conversations (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    merchant_id UUID REFERENCES merchants(id),
    customer_phone VARCHAR(20),
    customer_instagram VARCHAR(100),
    platform VARCHAR(20) NOT NULL,
    conversation_stage VARCHAR(50) DEFAULT 'GREETING',
    session_data JSONB DEFAULT '{}',
    last_message_at TIMESTAMPTZ DEFAULT NOW()
);

-- ุณุฌู ุงูุฑุณุงุฆู
CREATE TABLE message_logs (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    conversation_id UUID REFERENCES conversations(id),
    direction VARCHAR(20) NOT NULL,
    platform VARCHAR(20) NOT NULL,
    content TEXT,
    ai_processed BOOLEAN DEFAULT false,
    created_at TIMESTAMPTZ DEFAULT NOW()
);

-- ุจูุงูุงุช Instagram ุงููุญุฏุฏุฉ
CREATE TABLE story_interactions (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    merchant_id UUID REFERENCES merchants(id),
    story_id VARCHAR(255),
    interaction_type VARCHAR(50),
    user_id VARCHAR(255),
    processed_at TIMESTAMPTZ DEFAULT NOW()
);
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ (ููุฏ ุงูุชุทููุฑ)

### ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช ุงููุชุงุญุฉ

```bash
# ุงุฎุชุจุงุฑ Instagram integration
bun run test:instagram

# ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช
node test-connection.js

# ูุญุต ุตุญุฉ ุงููุธุงู
curl http://localhost:3001/health
```

### ุงูุงุฎุชุจุงุฑุงุช ุงููุชุงุญุฉ

- โ **Database Connection Tests**
- โ **Instagram Webhook Tests** 
- โ **AI Service Tests**
- ๐ง **WhatsApp Integration Tests** (in progress)
- ๐ **E2E Tests** (planned)

---

## ๐ ุงููุดุฑ

### Development Setup

```bash
# ุงูุชุดุบูู ููุชุทููุฑ
bun run dev

# ุจูุงุก ุงููุดุฑูุน
bun run build

# ุงูุชุดุบูู ูู ุงูุฅูุชุงุฌ
bun run start
```

### Docker Support (ููุฏ ุงูุชุทููุฑ)

```bash
# ููุชุทููุฑ
docker-compose -f docker-compose.dev.yml up

# ููุฅูุชุงุฌ (ุบูุฑ ููุชูู)
docker-compose -f docker-compose.prod.yml up
```

---

## ๐ ุฅุญุตุงุฆูุงุช ุงููุดุฑูุน ุงููุญุฏุซุฉ

### ุงูููุงููุณ ุงูุญุงููุฉ ููุฅูุชุงุฌ
- **45+ ููู TypeScript** ูุญุณู ูููููู
- **~8,000 ุณุทุฑ ููุฏ** ุนุงูู ุงูุฌูุฏุฉ
- **6 ูุนุงูุฌุงุช Queue** ููููุงู ุงููุฎุชููุฉ
- **3 ูุณุชูุฏุนุงุช ุจูุงูุงุช** ูููุตูุฉ
- **14 migration** ููุงุนุฏุฉ ุงูุจูุงูุงุช
- **5 ุฃูุธูุฉ ุฃูุงู** ูุชูุฏูุฉ

### ุงูููุฒุงุช ุงููุทุจูุฉ (ุฌุงูุฒุฉ ููุฅูุชุงุฌ)
- โ **Instagram Complete Integration** - DMs, Stories, Comments
- โ **Advanced AI Processing** - Context-aware responses
- โ **Enterprise Security** - SQL injection protection, encryption
- โ **Async Queue System** - Background processing
- โ **Repository Pattern** - Clean data layer separation
- โ **Environment Validation** - Production readiness checks
- โ **Monitoring & Observability** - Health checks, statistics
- โ **Webhook Reliability** - Retry mechanisms, dead letter queue

---

## ๐ฏ ุงููุฑุญูุฉ ุงููุงุฏูุฉ - ุงูุชุญุณููุงุช ูุงูุงุฎุชุจุงุฑ

### ๐ ุงูุชุญุณููุงุช ุงููุณุชูุฑุฉ

#### 1. **Performance Testing & Optimization**
- **ุงูุญุงูุฉ**: ูุทููุจ ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก ุชุญุช ุงูุญูููุฉ
- **ุงููุฏู**: ุถูุงู ุงุณุชูุฑุงุฑ ุงููุธุงู ูุน 1000+ ุชุงุฌุฑ ูุชุฒุงูู
- **ุงูุฎุทุฉ**: Load testing + performance profiling

#### 2. **Comprehensive Testing Suite**
- **ุงูุญุงูุฉ**: ูุญุชุงุฌ ุงุฎุชุจุงุฑุงุช E2E ุดุงููุฉ
- **ุงููุฏู**: 90%+ test coverage ููููุฏ ุงูุญููู
- **ุงูุฎุทุฉ**: Unit tests + Integration tests + E2E tests

#### 3. **Production Monitoring**
- **ุงูุญุงูุฉ**: ูุญุชุงุฌ ูุฑุงูุจุฉ ููุตูุฉ ููุฅูุชุงุฌ
- **ุงููุฏู**: Real-time alerts + detailed analytics
- **ุงูุฎุทุฉ**: APM integration + custom dashboards

#### 4. **Instagram API Optimization**
- **ุงูุญุงูุฉ**: ุชุญุณูู ุงุณุชุฎุฏุงู Instagram APIs
- **ุงููุฏู**: ุชูููู rate limiting + ุชุญุณูู ุงูุงุณุชุฌุงุจุฉ
- **ุงูุฎุทุฉ**: Smart caching + request optimization

---

## ๐ ุฎุฑูุทุฉ ุงูุทุฑูู ุงููุญุฏุซุฉ

### ๐ฅ ุฃููููุฉ ุนุงููุฉ - ุงูุฃุณุงุจูุน ุงููุงุฏูุฉ
- [ ] **Load Testing Instagram Integration** - ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก ูุน ุญูููุฉ ุนุงููุฉ
- [ ] **Production Testing** - ุงุฎุชุจุงุฑ ุดุงูู ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ
- [ ] **Error Monitoring Enhancement** - ุชุญุณูู ูุฑุงูุจุฉ ุงูุฃุฎุทุงุก
- [ ] **Instagram API Rate Limiting Optimization** - ุชุญุณูู ุฅุฏุงุฑุฉ ูุนุฏู ุงูุทูุจุงุช

### ๐ฏ ุฃููููุฉ ูุชูุณุทุฉ (1-3 ุฃุดูุฑ)
- [ ] **Advanced Analytics Dashboard** - ููุญุฉ ุชุญูู ููุฅุญุตุงุฆูุงุช
- [ ] **AI Response Quality Improvement** - ุชุญุณูู ุฌูุฏุฉ ุงูุงุณุชุฌุงุจุงุช
- [ ] **Multi-merchant Support Testing** - ุงุฎุชุจุงุฑ ุฏุนู ุนุฏุฉ ุชุฌุงุฑ
- [ ] **Advanced Security Auditing** - ูุฑุงุฌุนุฉ ุฃูููุฉ ุดุงููุฉ

### ๐ซ ุฎุงุฑุฌ ุงููุทุงู ุงูุญุงูู (ูุคุฌู)
- [ ] **WhatsApp Integration** - ูุคุฌู ููุฑุญูุฉ ูุงุญูุฉ
- [ ] **Mobile Applications** - ุจุนุฏ ุงุณุชูุฑุงุฑ ุงููุธุงู
- [ ] **Payment Integration** - ููุณ ุถุฑูุฑู ุญุงููุงู
- [ ] **Admin Dashboard** - ุงูุชุฑููุฒ ุนูู API ุฃููุงู

### ๐จ ูููุฒุงุช ุฅุถุงููุฉ ูุณุชูุจููุฉ
- [ ] **Custom AI Model Training** - ุชุฏุฑูุจ ูููุฐุฌ ูุฎุตุต ููุชุฌุงุฑุฉ ุงูุนุฑุงููุฉ
- [ ] **Advanced Business Intelligence** - ุชุญูููุงุช ูุชูุฏูุฉ ูููุจูุนุงุช
- [ ] **Regional Expansion** - ุชูุณุน ูุฏูู ุฃุฎุฑู

---

## ๐ค ุงููุณุงููุฉ

ุงููุดุฑูุน **ููุชูุญ ูููุณุงููุฉ**! ุงููุฌุงูุงุช ุงูุชู ูุญุชุงุฌ ูุณุงุนุฏุฉ ูููุง:

1. **WhatsApp Integration** - ุฅููุงู ุชูุงูู WhatsApp Business
2. **Testing** - ูุชุงุจุฉ ุงุฎุชุจุงุฑุงุช ุดุงููุฉ
3. **Documentation** - ุชุญุณูู ุงูุชูุซูู
4. **UI/UX** - ุชุตููู dashboard ููุชุฌุงุฑ

### ุฎุทูุงุช ุงููุณุงููุฉ

1. Fork ุงููุดุฑูุน
2. ุฅูุดุงุก feature branch
3. ุชุทููุฑ ุงูููุฒุฉ ูุน ุงุฎุชุจุงุฑุงุช
4. ุฅุฑุณุงู Pull Request

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน **proprietary** ูููููู ูููุฑูู ุงููุทูุฑ.

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ูุดุงูู ุดุงุฆุนุฉ

#### ูุดููุฉ Instagram API
```bash
# ุงูุชุญูู ูู ุตุญุฉ ุงูู token
curl -X GET "https://graph.facebook.com/v18.0/me?access_token=YOUR_TOKEN"
```

#### ูุดููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
node test-connection.js
```

#### ูุดููุฉ ุงูู dependencies
```bash
# ุฅุนุงุฏุฉ ุชุซุจูุช
rm -rf node_modules
bun install
```

---

## ๐ ุญุงูุฉ ุงูููุฒุงุช ุงููุญุฏุซุฉ

| ุงูููุฒุฉ | ุงูุญุงูุฉ | ูุณุชูู ุงูุฌูุฏุฉ | ุงูููุงุญุธุงุช |
|-------|---------|---------------|------------|
| **Instagram DMs** | โ **ุฅูุชุงุฌู** | ๐ข ููุชุงุฒ | AI responses + async processing |
| **Instagram Stories** | โ **ุฅูุชุงุฌู** | ๐ข ููุชุงุฒ | Mentions + interactions handling |
| **Instagram Comments** | โ **ุฅูุชุงุฌู** | ๐ข ููุชุงุฒ | Auto-reply + DM invitations |
| **AI Processing** | โ **ุฅูุชุงุฌู** | ๐ข ููุชุงุฒ | Context-aware + Iraqi dialect |
| **Async Queue System** | โ **ุฅูุชุงุฌู** | ๐ข ููุชุงุฒ | Background processing + retry |
| **Security System** | โ **ุฅูุชุงุฌู** | ๐ข ููุชุงุฒ | Enterprise-grade protection |
| **Repository Pattern** | โ **ุฅูุชุงุฌู** | ๐ข ููุชุงุฒ | Clean architecture + type safety |
| **Environment Validation** | โ **ุฅูุชุงุฌู** | ๐ข ููุชุงุฒ | Production readiness checks |
| **Monitoring** | โ **ุฅูุชุงุฌู** | ๐ก ุฌูุฏ | Health checks + queue stats |
| **Database Schema** | โ **ุฅูุชุงุฌู** | ๐ข ููุชุงุฒ | Multi-tenant + RLS + optimized |
| **Testing Suite** | ๐ง **ุฌุฒุฆู** | ๐ก ูุญุชุงุฌ ุชุทููุฑ | Basic tests only |
| **WhatsApp Business** | ๐ซ **ูุคุฌู** | โ ุฎุงุฑุฌ ุงููุทุงู | ูุคุฌู ููุฑุญูุฉ ูุงุญูุฉ |
| **Admin Dashboard** | ๐ซ **ูุคุฌู** | โ ุฎุงุฑุฌ ุงููุทุงู | ุงูุชุฑููุฒ ุนูู API ุฃููุงู |

---

---

## ๐ **ุฌุงูุฒ ููุฅูุชุงุฌ - Instagram Sales Platform**

### โ **ูุง ุชู ุฅูุฌุงุฒู:**
- **Enterprise-Grade Backend** ูุน Clean Architecture
- **Instagram Integration ููุชูู** ูุน AI responses
- **Advanced Security System** ูุน ุญูุงูุฉ ุดุงููุฉ
- **Async Processing Queue** ููุฃุฏุงุก ุงูุนุงูู
- **Production Monitoring** ูุน health checks
- **Environment Validation** ููุงุณุชูุฑุงุฑ

### ๐ฏ **ุงูุชุฑููุฒ ุงูุญุงูู:**
- **Instagram ููุท** - ูุง WhatsApp ุญุงููุงู
- **API ุฃููุงู** - ูุง dashboard ุญุงููุงู 
- **ุงุฎุชุจุงุฑ ูุชุญุณูู** - ุถูุงู ุงูุฌูุฏุฉ 100%
- **Production Ready** - ููุชุฌุงุฑ ุงูุนุฑุงูููู

---

---

## ๐ ูุนูููุงุช ุงููุดุฑูุน

### ๐ **ุฑูุงุจุท ุงููุดุฑูุน:**
- **๐ Repository**: [https://github.com/JAAFAR1996/ai-instgram-](https://github.com/JAAFAR1996/ai-instgram-)
- **๐ง ุงููุทูุฑ**: [@JAAFAR1996](https://github.com/JAAFAR1996)
- **๐ฑ ุงูููุตุงุช ุงููุฏุนููุฉ**: Instagram Business API, WhatsApp Business API

### ๐ท๏ธ **ุชูุงุตูู ุงูุฅุตุฏุงุฑ:**
- **๐ ุงููุณุฎุฉ**: `v1.0.0-production`
- **๐ ุขุฎุฑ ุชุญุฏูุซ**: 18 ุฃุบุณุทุณ 2025
- **โก ุญุงูุฉ ุงูุฅูุชุงุฌ**: ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู
- **๐ฏ ุงูุณูู ุงููุณุชูุฏู**: ุงูุชุฌุงุฑ ุงูุนุฑุงูููู ูุงูุนุฑุจ

---

## ๐ ุฑูุงุจุท ูุฑุงูุจุฉ ุงููุธุงู

### ๐ **Production Endpoints:**
- **System Health**: `GET /health`
- **API Status**: `GET /api/status`
- **Queue Statistics**: `GET /api/queue/stats`
- **Queue Health**: `GET /api/queue/health`
- **Config Validation**: `GET /api/config/validate`

### ๐ง **Management Endpoints:**
- **Retry Failed Jobs**: `POST /api/queue/retry-failed`
- **Cleanup Old Jobs**: `POST /api/queue/cleanup`

### ๐จ **Critical Monitoring:**
```bash
# ูุฑุงูุจุฉ ูุณุชูุฑุฉ ูููุธุงู
watch -n 30 'curl -s http://localhost:3001/health | jq'

# ูุฑุงูุจุฉ ุงูู Queue
watch -n 10 'curl -s http://localhost:3001/api/queue/stats | jq'
```

---

## ๐ **ุงูููุตุฉ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ุงูุฅูุชุงุฌู!**

<div align="center">

### ๐ **ูุธุงู ุงุญุชุฑุงูู ูุชูุงูู ููุชุฌุงุฑ ุงูุนุฑุงูููู**

**ูุทุงุจู 100% ููุนุงููุฑ Meta Graph API v23.0** โข **ุฃูุงู ูุชูุฏู 2025** โข **ุฃุฏุงุก ููุชุงุฒ ุชุญุช ุงูุญูููุฉ**

[![Deploy](https://img.shields.io/badge/Deploy%20Now-Ready-brightgreen?style=for-the-badge)](https://github.com/JAAFAR1996/ai-instgram-)
[![Production](https://img.shields.io/badge/Production-Ready-blue?style=for-the-badge)](#)
[![Instagram](https://img.shields.io/badge/Instagram-Integrated-purple?style=for-the-badge)](#)

---

### ๐ **ุจููู ุจุฃุญุฏุซ ุงูุชูููุงุช 2025**

**TypeScript** โข **Hono.js** โข **PostgreSQL** โข **Redis** โข **OpenAI** โข **Meta Graph API**

---

**๐ป ุงููุทูุฑ**: [@JAAFAR1996](https://github.com/JAAFAR1996) | **๐ 2025** | **๐ฎ๐ถ Made for Iraqi Businesses**

</div> 