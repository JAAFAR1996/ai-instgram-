# ๐งช ุฏููู ุงูุงุฎุชุจุงุฑุงุช ุงูุดุงูู - AI Sales Platform Testing Guide

## ๐ **ุงูุจุฏุก ุงูุณุฑูุน - Quick Start**

### **ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช**
```bash
# ุงูุทุฑููุฉ ุงูุฃุณูู - ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
npm run test:all

# ุฃู ุจุงุณุชุฎุฏุงู bun ูุจุงุดุฑุฉ
bun run-all-tests.ts
```

### **ุนุฑุถ ูุงุฆูุฉ ุงูุงุฎุชุจุงุฑุงุช ุงููุชุงุญุฉ**
```bash
npm run test:all:list
# ุฃู
bun run-all-tests.ts --list
```

---

## ๐ **ุงูุฃูุงูุฑ ุงููุชุงุญุฉ - Available Commands**

### **๐ฅ ุงูุงุฎุชุจุงุฑุงุช ุงูุฃุณุงุณูุฉ**
```bash
npm run test:all              # ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
npm run test:all:list         # ุนุฑุถ ูุงุฆูุฉ ุงููุฌููุนุงุช
npm run test:critical         # ุงูุงุฎุชุจุงุฑุงุช ุงูุญุฑุฌุฉ ููุท
```

### **๐ฏ ุงุฎุชุจุงุฑุงุช ูุญุฏุฏุฉ**
```bash
npm run test:security         # ุงุฎุชุจุงุฑุงุช ุงูุฃูุงู
npm run test:api              # ุงุฎุชุจุงุฑุงุช ุงูู API
npm run test:repository       # ุงุฎุชุจุงุฑุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
npm run test:circuit          # ุงุฎุชุจุงุฑุงุช Circuit Breaker
npm run test:migration        # ุงุฎุชุจุงุฑุงุช ุงููุฌุฑุฉ
npm run test:monitoring       # ุงุฎุชุจุงุฑุงุช ุงููุฑุงูุจุฉ
```

### **๐ฑ ุงุฎุชุจุงุฑุงุช Instagram ุงููุชุฎุตุตุฉ**
```bash
npm run test:instagram        # ุงุฎุชุจุงุฑุงุช Instagram ุงูุฃุณุงุณูุฉ
npm run test:instagram:all    # ุฌููุน ุงุฎุชุจุงุฑุงุช Instagram
npm run test:instagram:e2e    # ุงุฎุชุจุงุฑุงุช E2E
```

---

## ๐๏ธ **ุจููุฉ ุงูุงุฎุชุจุงุฑุงุช - Test Structure**

### **๐ ุงููุฌูุฏุงุช ูุงููููุงุช**
```
src/
โโโ api/
โ   โโโ service-control.test.ts       # ุงุฎุชุจุงุฑุงุช API ุงูุชุญูู
โโโ repositories/
โ   โโโ merchant-repository.test.ts   # ุงุฎุชุจุงุฑุงุช ูุณุชูุฏุน ุงูุชุฌุงุฑ
โโโ services/
โ   โโโ CircuitBreaker.test.ts        # ุงุฎุชุจุงุฑุงุช Circuit Breaker
โ   โโโ encryption.test.ts            # ุงุฎุชุจุงุฑุงุช ุงูุชุดููุฑ
โ   โโโ monitoring.test.ts            # ุงุฎุชุจุงุฑุงุช ุงููุฑุงูุจุฉ
โโโ database/
โ   โโโ migrate.test.ts               # ุงุฎุชุจุงุฑุงุช ุงููุฌุฑุฉ
โโโ tests/
โ   โโโ instagram-*.test.ts           # ุงุฎุชุจุงุฑุงุช Instagram
โ   โโโ security-*.test.ts            # ุงุฎุชุจุงุฑุงุช ุงูุฃูุงู
โ   โโโ performance-*.test.ts         # ุงุฎุชุจุงุฑุงุช ุงูุฃุฏุงุก
โโโ queue/
    โโโ *.test.ts                     # ุงุฎุชุจุงุฑุงุช ุงูุทูุงุจูุฑ
```

### **๐จ ุฃููุงุท ุงูุชุดุบูู**
```bash
# ุจุงูุงุณู
bun run-all-tests.ts instagram

# ุจุนุฏุฉ ุฃููุงุท
bun run-all-tests.ts security api repository

# ุจุงููุณุงุฑ
bun run-all-tests.ts src/services/

# ุนุฑุถ ุงููุณุงุนุฏุฉ
bun run-all-tests.ts --help
```

---

## ๐ **ูุฌููุนุงุช ุงูุงุฎุชุจุงุฑุงุช - Test Suites**

### **๐ด ุฃููููุฉ ุนุงููุฉ - HIGH PRIORITY**

#### **1. Security & Encryption** ๐
- **ุงููุตู:** ุงุฎุชุจุงุฑุงุช ุงูุฃูุงู ูุงูุชุดููุฑ
- **ุงูููู:** `src/services/encryption.test.ts`
- **ูุบุทู:** HMACุ ุชุดููุฑ ุงูุฑููุฒุ ุญูุงูุฉ ุงูุจูุงูุงุช

#### **2. Service Control API** ๐ง
- **ุงููุตู:** ุงุฎุชุจุงุฑุงุช API ุงูุชุญูู ูู ุงูุฎุฏูุงุช
- **ุงูููู:** `src/api/service-control.test.ts`
- **ูุบุทู:** ุชูุนูู/ุฅููุงู ุงูุฎุฏูุงุชุ ุฅุฏุงุฑุฉ ุงูุญุงูุงุชุ ูุฑุงูุจุฉ ุงูุตุญุฉ

#### **3. Merchant Repository** ๐ช
- **ุงููุตู:** ุงุฎุชุจุงุฑุงุช ุทุจูุฉ ุงููุตูู ููุจูุงูุงุช
- **ุงูููู:** `src/repositories/merchant-repository.test.ts`
- **ูุบุทู:** CRUD ุงูุนูููุงุชุ ุชุชุจุน ุงูุงุณุชุฎุฏุงูุ ุงูุงุดุชุฑุงูุงุช

#### **4. Circuit Breaker** โก
- **ุงููุตู:** ุงุฎุชุจุงุฑุงุช ููุท ุงูููุงููุฉ
- **ุงูููู:** `src/services/CircuitBreaker.test.ts`
- **ูุบุทู:** ูุดู ุงูุฃุนุทุงูุ ุงูุงุณุชุฑุฏุงุฏ ุงูุชููุงุฆูุ ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก

#### **5. Database Migration** ๐
- **ุงููุตู:** ุงุฎุชุจุงุฑุงุช ูุฌุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุงูููู:** `src/database/migrate.test.ts`
- **ูุบุทู:** ุชูููุฐ ุงููุฌุฑุงุชุ ุชุญููู ุงูุจูุงูุงุชุ ุงูุชุฑุงุฌุน ุงูุขูู

### **๐ก ุฃููููุฉ ูุชูุณุทุฉ - MEDIUM PRIORITY**

#### **6. Monitoring & Analytics** ๐
- **ุงููุตู:** ุงุฎุชุจุงุฑุงุช ุงููุฑุงูุจุฉ ูุงูุชุญูููุงุช
- **ุงูููู:** `src/services/monitoring.test.ts`
- **ูุบุทู:** ุฌูุน ุงูููุงููุณุ ุงูุชูุจููุงุชุ ููุญุงุช ุงููุฑุงูุจุฉ

#### **7. Instagram Integration** ๐ฑ
- **ุงููุตู:** ุงุฎุชุจุงุฑุงุช ุชูุงูู Instagram
- **ุงูููู:** `src/tests/instagram-integration.test.ts`
- **ูุบุทู:** Webhookุ ุฅุฏุงุฑุฉ ุงููุณุงุฆุทุ ุฅุฑุณุงู ุงูุฑุณุงุฆู

#### **8. Rate Limiting** ๐ฆ
- **ุงููุตู:** ุงุฎุชุจุงุฑุงุช ุชุญุฏูุฏ ุงููุนุฏู
- **ุงูููู:** `src/tests/meta-rate-limiter.test.ts`
- **ูุบุทู:** ุญูุงูุฉ ูู ุงูุฅูุฑุงุทุ ุญุฏูุฏ Instagram API

---

## ๐ฏ **ูุซุงู ุนูู ุงูุชุดุบูู - Example Run**

```bash
$ npm run test:all

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ AI SALES PLATFORM - ูุดุบู ุงูุงุฎุชุจุงุฑุงุช ุงูุดุงูู
   Comprehensive Test Suite Runner
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ ุงููุฌููุนุงุช ุงููุชุงุญุฉ: 18
โฐ ููุช ุงูุจุฏุก: 15/1/2025, 10:30:00 ุต
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ ุจุฏุก ุชุดุบูู 18 ูุฌููุนุฉ ุงุฎุชุจุงุฑุงุช...

๐ ุชุดุบูู: Security & Encryption
   ๐ ุงุฎุชุจุงุฑุงุช ุงูุฃูุงู ูุงูุชุดููุฑ - ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
   ๐ src/services/encryption.test.ts
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ verifyHMAC returns false for signatures with wrong length
โ readRawBody throws 413 when payload exceeds limit
โ returns payload for valid token
โ throws on invalid JSON
โ throws when required keys missing

   โ PASS - Security & Encryption ๐ด
   ๐ ุงููุชุงุฆุฌ: 5/5 ูุฌุญ
   โฑ๏ธ  ุงููุฏุฉ: 150ms
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

...

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ ุงูุชูุฑูุฑ ุงูููุงุฆู - FINAL REPORT
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ ุฅุฌูุงูู ุงููุฌููุนุงุช ุงููุฎุชุจุฑุฉ: 18
๐งช ุฅุฌูุงูู ุงูุงุฎุชุจุงุฑุงุช: 247
โ ูุฌุญ: 235 (95.14%)
โ ูุดู: 12 (4.86%)
โฑ๏ธ  ุฅุฌูุงูู ุงูููุช: 45.67 ุซุงููุฉ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ฏ ุชูููู ุงูุฌูุฏุฉ:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ ุงููุชูุฌุฉ ุงูุฅุฌูุงููุฉ: 95.14% - ๐ ููุชุงุฒ - Excellent
๐ฏ ุงูุชูุตูุฉ: โ ุฌุงูุฒ ููุฅูุชุงุฌ - Ready for Production

๐ ุชูุฑูุฑ ุงูุฃููููุฉ:
๐ด ุนุงููุฉ ุงูุฃููููุฉ: 11/11 (100%)

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ ุงูุชูู ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
   ูุฌููุนุฉ ุงูุงุฎุชุจุงุฑุงุช ุงูุดุงููุฉ ููู AI Sales Platform
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ง **ุฅุนุฏุงุฏ ุงูุจูุฆุฉ - Environment Setup**

### **ูุชุทูุจุงุช ุงููุธุงู**
```bash
# Node.js >= 20.12.0
# Bun >= 1.0.0
# PostgreSQL >= 14
# Redis >= 6.0
```

### **ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ**
```env
# ููู .env.test
DATABASE_URL=postgresql://test:test@localhost:5432/ai_sales_test
REDIS_URL=redis://localhost:6379/1
ENCRYPTION_KEY_HEX=your-test-encryption-key
INSTAGRAM_TEST_TOKEN=your-test-token
NODE_ENV=test
```

### **ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุงุฎุชุจุงุฑ**
```bash
# ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ
createdb ai_sales_test

# ุชุดุบูู ุงููุฌุฑุงุช
npm run db:migrate

# ุฅุฏุฎุงู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ (ุงุฎุชูุงุฑู)
npm run db:seed
```

---

## ๐ **ูุตุงุฆุญ ูููุทูุฑูู - Developer Tips**

### **๐ ุฃูุถู ุงูููุงุฑุณุงุช**

1. **ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช ูุจู ุงูู Commit**
   ```bash
   npm run test:critical  # ุงูุงุฎุชุจุงุฑุงุช ุงูุญุฑุฌุฉ ููุท
   ```

2. **ุงุฎุชุจุงุฑ ุงููุธุงุฆู ุงูุฌุฏูุฏุฉ**
   ```bash
   # ุฅุฐุง ุฃุถูุช ูุธููุฉ API ุฌุฏูุฏุฉ
   npm run test:api
   
   # ุฅุฐุง ุนุฏูุช ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   npm run test:repository
   ```

3. **ูุฑุงูุจุฉ ุงูุฃุฏุงุก**
   ```bash
   # ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก ุชุญุช ุงูุญูููุฉ
   npm run test:monitoring
   ```

### **๐ ุชุดุฎูุต ุงูุฃุฎุทุงุก**

#### **ุฅุฐุง ูุดู ุงุฎุชุจุงุฑ ูุนูู:**
```bash
# ุชุดุบูู ุงุฎุชุจุงุฑ ูุญุฏุฏ ููุท
bun test src/path/to/specific.test.ts

# ูุน ุชูุงุตูู ุฃูุซุฑ
bun test src/path/to/specific.test.ts --verbose
```

#### **ุฅุฐุง ูุดูุช ุงุฎุชุจุงุฑุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```bash
# ุฅุนุงุฏุฉ ุชุนููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
npm run db:reset
npm run db:migrate
```

#### **ุฅุฐุง ูุดูุช ุงุฎุชุจุงุฑุงุช Redis:**
```bash
# ุชุฃูุฏ ูู ุชุดุบูู Redis
redis-cli ping  # ูุฌุจ ุฃู ูุฑุฌุน "PONG"
```

### **๐จ ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ุฌุฏูุฏุฉ**

1. **ุฅูุดุงุก ููู ุงูุงุฎุชุจุงุฑ:**
   ```typescript
   // src/services/my-new-service.test.ts
   import { describe, test, expect } from 'bun:test';
   import { MyNewService } from './my-new-service.js';
   
   describe('MyNewService', () => {
     test('should work correctly', async () => {
       const service = new MyNewService();
       const result = await service.doSomething();
       expect(result).toBeDefined();
     });
   });
   ```

2. **ุฅุถุงูุฉ ุงููุฌููุนุฉ ูููุดุบู:**
   ```typescript
   // ูู run-all-tests.ts
   {
     name: 'My New Service',
     pattern: 'src/services/my-new-service.test.ts',
     description: 'ูุตู ุงูุฎุฏูุฉ ุงูุฌุฏูุฏุฉ',
     priority: 'MEDIUM'
   }
   ```

---

## ๐ **ุชูุงุฑูุฑ ุงูุชุบุทูุฉ - Coverage Reports**

### **ููุงุณ ุงูุชุบุทูุฉ**
```bash
# ุชุดุบูู ูุน ุชูุฑูุฑ ุงูุชุบุทูุฉ
bun test --coverage

# ุนุฑุถ ุชูุฑูุฑ HTML
bun test --coverage --coverage-reporter=html
open coverage/index.html
```

### **ุฃูุฏุงู ุงูุชุบุทูุฉ**
- **๐ฏ ุงููุฏู ุงูุนุงู:** 95%+
- **๐ด ุงููุธุงุฆู ุงูุญุฑุฌุฉ:** 100%
- **๐ก ุงููุธุงุฆู ุงูุนุงุฏูุฉ:** 90%+
- **๐ข ุงููุธุงุฆู ุงููุณุงุนุฏุฉ:** 80%+

---

## ๐ **CI/CD Integration**

### **ูู GitHub Actions:**
```yaml
# .github/workflows/test.yml
name: Tests
on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: oven-sh/setup-bun@v1
      - run: bun install
      - run: npm run test:all
```

### **ูู GitLab CI:**
```yaml
# .gitlab-ci.yml
test:
  stage: test
  image: oven/bun:latest
  script:
    - bun install
    - npm run test:all
  coverage: '/Coverage: \d+\.\d+%/'
```

---

## ๐ **ุงูุฏุนู ูุงููุณุงุนุฏุฉ - Support**

### **๐ ุฅุฐุง ุงุญุชุฌุช ูุณุงุนุฏุฉ:**

1. **ูุฑุงุฌุนุฉ ุงูุชูุซูู:** ูุฐุง ุงูููู
2. **ูุญุต ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ:** ุงููุณู ุฃุนูุงู
3. **ุชุดุบูู ุงูุชุดุฎูุต:** `npm run test:all:list`
4. **ุงูุชูุงุตู ูุน ุงููุฑูู:** Slack #testing-support

### **๐ ุงูุฅุจูุงุบ ุนู ุฎุทุฃ:**
- **ุงูุนููุงู:** ูุตู ูุฎุชุตุฑ ูููุดููุฉ
- **ุงููุตู:** ุฎุทูุงุช ุฅุนุงุฏุฉ ุงูุฅูุชุงุฌ
- **ุงูุจูุฆุฉ:** ูุธุงู ุงูุชุดุบููุ ุฅุตุฏุงุฑ Bun/Node
- **ุงูููุบุงุช:** ูุณุฎ ูุตู ูุฎุฑุฌุงุช ุงูุฎุทุฃ

---

**๐ ูุจุฑูู! ุงูุขู ูุฏูู ูุธุงู ุงุฎุชุจุงุฑุงุช ุดุงูู ูููู ูููุตุฉ AI Sales Platform!**

**ุขุฎุฑ ุชุญุฏูุซ:** 15 ููุงูุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุฅูุชุงุฌ