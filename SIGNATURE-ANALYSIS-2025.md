# ุชุญููู ุดุงูู ูุชูููุน Instagram Webhook 2025

## ๐ ููุฎุต ุงููุชุงุฆุฌ

### โ ุงููุชุงุฆุฌ ุงูุฑุฆูุณูุฉ
1. **ุงูุชูููุฐ ุงูุญุงูู ุตุญูุญ** - ูุชุจุน ุฃูุถู ุงูููุงุฑุณุงุช ูุนุงู 2025
2. **ุฌููุน ุทุฑู ุญุณุงุจ HMAC ุชุนุทู ููุณ ุงููุชูุฌุฉ** - ุงูุชูููุน ูุชุณู
3. **ุงูุฃุณุฑุงุฑ ุตุญูุญุฉ** - IG_APP_SECRET ู META_APP_SECRET ูุชุทุงุจูุงู
4. **ุงูุงุฎุชุจุงุฑุงุช ุงููุญููุฉ ูุงุฌุญุฉ** - ุงูุณูุฑูุฑ ููุจู ุงูุชูููุนุงุช ุงูุตุญูุญุฉ ููุฑูุถ ุงูุฎุงุทุฆุฉ

### ๐ ุงููุชุงุฆุฌ ุงูุชูุตูููุฉ

#### 1. ุชูููุน HMAC ุงูุตุญูุญ:
```
Expected: sha256=1685c39208162dc639a434d841ed8f78af94089b21a23d65a717049a70d768aa
First 20: sha256=1685c39208162dc639a4
```

#### 2. ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ:
- **ุญุฌู ุงูููู**: 261 ุจุงูุช
- **ููุน ุงููุญุชูู**: JSON (ูุจุฏุฃ ุจู `{"entry"`)
- **ุงูุณุฑ ุงููุณุชุฎุฏู**: `3b41e5421706802fbc1156f9aa84247e` (32 ุญุฑู)
- **ุจุตูุฉ ุงูุณุฑ**: `3b41โฆ247e`

#### 3. ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑ ุงููุญูู:
```
SIG_DEBUG {
  ok: true,
  expectedFirst20: 'sha256=1685c39208162dc639a4',
  providedFirst20: 'sha256=1685c39208162dc639a4',
  rawLen: 261,
  secretFpr: '3b41โฆ247e'
}
```

## ๐งช ุทุฑู ุงูุชุญูู ุงููุฎุชุจุฑุฉ

### โ ุฌููุน ุงูุทุฑู ุงูุชุงููุฉ ุชุนุทู ููุณ ุงููุชูุฌุฉ:

1. **HMAC with Buffer** (ุงูุชูููุฐ ุงูุญุงูู)
2. **HMAC with String UTF-8**
3. **HMAC with Secret UTF-8**
4. **Meta 2025 Standards**

### ๐ ูุนุงููุฑ Meta/Instagram 2025:

1. โ **ุงุณุชุฎุฏุงู X-Hub-Signature-256 header**
2. โ **ุงูุจุงุฏุฆุฉ "sha256=" ูุทููุจุฉ**
3. โ **ุญุณุงุจ HMAC ุนูู ุงูุจูุงูุงุช ุงูุฎุงู ูุจู JSON parsing**
4. โ **ุงุณุชุฎุฏุงู crypto.timingSafeEqual() ููููุงุฑูุฉ ุงูุขููุฉ**
5. โ **ุฏุนู both IG_APP_SECRET ู META_APP_SECRET**

## ๐ฏ ุงูุชุดุฎูุต ูููุดููุฉ ุงูุฃุตููุฉ

### ุงุญุชูุงูุงุช ุณุจุจ ุฎุทุฃ 401:

#### 1. ๐ด **ูุดููุฉ ูู ุฅุนุฏุงุฏุงุช Instagram Developer Console**
- ุงูู webhook URL ุบูุฑ ุตุญูุญ
- ุงูู App Secret ูุฎุชูู ุนู ุงููุณุชุฎุฏู
- ุงูุชุทุจูู ุบูุฑ ูุฑุชุจุท ุจุงูุตูุญุฉ ุงูุตุญูุญุฉ

#### 2. ๐ด **ูุดููุฉ ูู ุงูุจูุงูุงุช ุงููุงุตูุฉ ูู Instagram**
- Instagram ูุฑุณู ุจูุงูุงุช ูุฎุชููุฉ ุนู ุงูุงุฎุชุจุงุฑ ุงููุญูู
- Content-Type ุฃู encoding ูุฎุชูู
- ูุฌูุฏ compression ุฃู modification ูู ุงูุจูุงูุงุช

#### 3. ๐ด **ูุดููุฉ ูู ุงูุจูุฆุฉ ุงูุฅูุชุงุฌูุฉ**
- ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุบูุฑ ูุญููุฉ ุจุดูู ุตุญูุญ
- Proxy ุฃู load balancer ูุนุฏู ุงูุทูุจุงุช
- ูุดููุฉ ูู ุงูุชูููุช ุฃู network

### ๐ง ูุง ุชู ุฅุซุจุงุชู ุฃูู ูุนูู:

- โ **ุญุณุงุจ HMAC ุตุญูุญ**
- โ **ููุงุฑูุฉ ุงูุชูููุนุงุช ุขููุฉ**
- โ **ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุงูุฎุงู ุตุญูุญุฉ**
- โ **ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูุญููุฉ**
- โ **ุงูููุฏ ูุชุจุน ุฃูุถู ุงูููุงุฑุณุงุช 2025**

## ๐ ุงูุชูุตูุงุช ุงูููุงุฆูุฉ

### ููุชุญูู ูู ุงููุดููุฉ ุงููุนููุฉ:

1. **ุชูุนูู DEBUG_DUMP=1** ูุญูุธ ุงูุจูุงูุงุช ุงูุฎุงู ูู Instagram
2. **ูุฑุงุฌุนุฉ ุฅุนุฏุงุฏุงุช Instagram Developer Console**:
   - ุชุฃูุฏ ูู ุตุญุฉ App Secret
   - ุชุฃูุฏ ูู ุตุญุฉ Webhook URL
   - ุชุฃูุฏ ูู ุฑุจุท ุงูุชุทุจูู ุจุงูุตูุญุฉ ุงูุตุญูุญุฉ

3. **ููุงุฑูุฉ ุงูุจูุงูุงุช ุงููุนููุฉ**:
   - ุงุญูุธ ุงูุจูุงูุงุช ุงููุงุตูุฉ ูู Instagram
   - ูุงุฑููุง ูุน ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ ุงููุญูู
   - ุงุญุณุจ ุงูุชูููุน ุนูู ุงูุจูุงูุงุช ุงููุนููุฉ

### ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ:

1. **ุชุญูู ูู App ID**:
   ```
   Current App ID: 1086023127068503
   ```
   ุชุฃูุฏ ุฃู ูุฐุง ูู ููุณ App ID ูู Instagram Developer Console

2. **ุงุฎุชุจุฑ ูุน webhook URL ูุฎุชูู ูุคูุชุงู**
3. **ุงุณุชุฎุฏู ุฃุฏูุงุช ูุซู ngrok ููุงุฎุชุจุงุฑ ุงููุญูู**

## โ ุงูุฎูุงุตุฉ

**ุงูููุฏ ุงูุญุงูู ุตุญูุญ ููุชุจุน ุฌููุน ูุนุงููุฑ Meta/Instagram ูุนุงู 2025**. ุงููุดููุฉ ุงูุฃุตููุฉ ูุฎุทุฃ 401 ุนูู ุงูุฃุฑุฌุญ ุชููู ูู:

1. ุฅุนุฏุงุฏุงุช Instagram Developer Console
2. ุงููุฑู ุจูู ุงูุจูุงูุงุช ุงููุฑุณูุฉ ูู Instagram ูุงูุจูุงูุงุช ุงููุฎุชุจุฑุฉ ูุญููุงู
3. ูุดููุฉ ูู ุงูุจูุฆุฉ ุงูุฅูุชุงุฌูุฉ

**ุงูุชุดุฎูุต ุงูุชุงูู**: ุชูุนูู ุงููุฒูุฏ ูู ุงูุชุณุฌูู ูุงูููุงุฑูุฉ ูุน ุงูุจูุงูุงุช ุงููุนููุฉ ูู Instagram.